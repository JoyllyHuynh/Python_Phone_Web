python manage.py runserver{% extends 'app/base.html' %}
{% load static %}
{% load humanize %} 

{% block title %}S·∫£n ph·∫©m {{ current_brand.name }}{% endblock title %}

{% block main_content %}
<style>
    /* T·ªïng th·ªÉ cho thanh b·ªô l·ªçc */
.filter-bar {
    margin-top: 20px;
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
}

/* C√°c n√∫t b·ªô l·ªçc (t·ª´ng danh m·ª•c) */
.filter-item .btn {
    font-size: 14px;
    padding: 8px 12px;
    border-radius: 4px;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.filter-item .btn-outline-secondary {
    border-color: #ccc;
    color: #333;
}

.filter-item .btn-outline-secondary:hover {
    border-color: #007bff;
    color: #007bff;
}

.filter-item .btn-outline-danger {
    background-color: #f8d7da;
    color: #c72121;
}

.filter-item .btn-outline-danger:hover {
    background-color: #dc3545;
    color: #fff;
}

/* Dropdown */
.dropdown-menu {
    margin-top: 5px;
    border-radius: 4px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    min-width: 200px;
}

.dropdown-menu a.dropdown-item {
    padding: 6px 12px;
    font-size: 14px;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.dropdown-menu a.dropdown-item:hover {
    background-color: #007bff;
    color: #fff;
}

/* N√∫t "Xem k·∫øt qu·∫£" */
.filter-item a.btn-danger {
    font-size: 14px;
    padding: 8px 12px;
    background-color: #dc3545;
    color: #fff;
    border: none;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.filter-item a.btn-danger:hover {
    background-color: #c72121;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
}

/* T√πy ch·ªânh kho·∫£ng c√°ch gi·ªØa c√°c ph·∫ßn t·ª≠ */
.filter-item {
    margin-bottom: 1rem;
}

/* Hi·ªÉn th·ªã n√∫t dropdown */
.dropdown-toggle::after {
    margin-left: 5px;
}

.dropdown-toggle {
    font-weight: 500;
    color: #333;
}

.dropdown-toggle:hover {
    color: #007bff;
}

/* K·∫øt qu·∫£ hi·ªÉn th·ªã s·∫£n ph·∫©m */
.container .product-card {
    border-radius: 6px;
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: box-shadow 0.3s ease, transform 0.3s ease;
}

.container .product-card:hover {
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
    transform: translateY(-3px);
}
</style>
<div class="container my-5">
    <div class="filter-bar d-flex flex-wrap align-items-center">
    <!-- M·ªói danh m·ª•c -->
    {% for category in categories %}
    <div class="filter-item me-2 mb-2">
        <div class="dropdown">
            <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="dropdownCategory{{ category.id }}" data-bs-toggle="dropdown" aria-expanded="false">
                {{ category.name }}
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownCategory{{ category.id }}">
                {% for sub_option in category.options %}
                <li>
                    <a class="dropdown-item" href="?category={{ category.slug }}&option={{ sub_option.slug }}">
                        {{ sub_option.name }}
                    </a>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endfor %}

    <!-- N√∫t xem k·∫øt qu·∫£ -->
    <div class="filter-item me-2 mb-2">
        <a href="#" class="btn btn-sm btn-danger">Xem k·∫øt qu·∫£</a>
    </div>
</div>

    
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="fw-bold">üì± S·∫£n ph·∫©m t·ª´ h√£ng {{ current_brand.name }}</h2>
            <p class="text-muted">ƒêang hi·ªÉn th·ªã {{ products|length }} s·∫£n ph·∫©m.</p>
        </div>
    </div>
    
    <div class="row">
        <div class="col-lg-3">
            <h5 class="fw-bold mb-3">üè∑Ô∏è L·ªçc theo Th∆∞∆°ng hi·ªáu</h5>
            <div class="list-group">
                {% for brand in brands %}
                <a href="{% url 'product_list_by_brand' brand_slug=brand.slug %}" 
                   class="list-group-item list-group-item-action {% if brand == current_brand %}active{% endif %}">
                    {{ brand.name }}
                </a>
                {% endfor %}
            </div>
            <a href="{% url 'home' %}" class="btn btn-sm btn-outline-secondary mt-3">Xem t·∫•t c·∫£ s·∫£n ph·∫©m</a>
        </div>
        
        <div class="col-lg-9">
            <div class="row">
                {% for product in products %}
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="card product-card h-100 shadow-sm border-0">
                        <a href="{% url 'product_detail' product.id %}">
                             <img src="{{ product.ImageURL }}" class="card-img-top p-3" alt="{{ product.name }}">
                        </a>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title fw-bold">{{ product.name }}</h5>
                            <p class="card-text text-danger fs-5 mt-auto">{{ product.price|floatformat:0|intcomma }}‚Ç´</p>
                            <button data-product="{{product.id}}" data-action="add" class="btn btn-primary btn-sm update-cart">
                                Th√™m v√†o Gi·ªè h√†ng
                            </button>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center py-5">
                    <p class="h4 text-muted">Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m n√†o c·ªßa h√£ng {{ current_brand.name }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
        
    </div>
</div>
{% endblock main_content %}